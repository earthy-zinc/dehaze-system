# JavaScript面试题

## 数据类型



## 基础



## ES6



## 原型和原型链



## 执行上下文/作用域链/闭包

### 闭包

闭包是指有权访问另一个函数作用域中变量的函数，创建闭包最常见的方式就是在一个函数内创建另一个函数，创建的函数可以访问到当前函数的局部变量。

闭包有两个常用用途：

* 使我们在函数外部能够访问到函数内部的变量，通过使用闭包，可以通过在外部调用闭包函数，从而在外部访问到函数内部的变量，使用该方法创建私有变量
* 使已经运行结束的函数上下文中的变量对象继续留在内存中，因为闭包函数保留了这个变量对象的引用，所以这个变量对象不会被回收。

### 作用域和作用域链

#### 全局作用域

* 最外层的函数和最外层函数外面定义的变量拥有全局作用域
* 所有未定义直接复制的变量自动声明为全局作用域
* 所有window对象的属性拥有全局作用域
* 过多的全局作用域变量会污染全局命名空间，容易引起命名冲突

#### 函数作用域

* 函数作用域指的是声明在函数内部变量的作用域，通常情况下在该函数内部能够访问到
* 作用域是分层的，内部作用域可以访问到外部作用域，反之则不行

#### 块级作用域

* 使用ES6中新增的let和const指令可以声明块级作用域，块级作用域可以在函数中创建，也可以在一个代码块中创建
* let和const声明的变量不会有变量提升
* 在循环内部适合使用块级作用域，可以把声明的计数器变量限制在循环内部

#### 作用域链

* 在当前作用域查找所需变量，但是该作用域中不存在该变量，那这个变量就是自由变量，如果在自己的作用域中找不到就去父级作用域中查找，依次向上级查找，直到访问到window对象就终止。整个查找的链条就叫做作用域链。
* 作用域链的作用是保证对执行环境有权访问的所有变量和函数的有序访问，通过作用域链，可以访问到外层环境的变量和参数。
* 作用域链的本质是一个指向变量对象的指针链表。变量对象是一个包含了执行环境中所有变量和函数的对象。作用域链的前端始终是当前执行上下文的变量对象。全局执行上下文的变量对象始终是作用域链的最后一个对象

### 执行上下文

#### 执行上下文类型

* 全局执行上下文：任何不在函数内部的区域都是全局执行上下文，它会首先创建一个全局的window对象，并且设置this的值为该全局对象，一个程序中只有一个全局执行上下文
* 函数执行上下文：当一个函数被调用是，就会为该函数创建一个新的执行上下文，函数上下文可以有多个
* eval函数执行上下文：在eval函数中执行的代码会有属于他自己的上下文

#### 执行上下文栈

* JavaScript引擎使用执行上下文栈来管理执行上下文
* 在执行代码时，首先遇到全局代码，会创建一个全局执行上下文，压入执行栈中，每当遇到一个函数调用，就为该函数创建一个新的执行上下文压入栈顶，当函数执行完成后，弹出该上下文，执行下一个函数上下文。当所有代码都执行完成之后，弹出全局执行上下文

#### 执行上下文的创建和执行

创建阶段：

* this绑定：在全局执行上下文中，this指的是全局对象。在函数执行上下文中，this指向取决于函数如何调用，当被一个引用对象调用，则this会被设置为那个对象，否则this的值为全局对象或者undefined
* 创建词法环境组件：词法环境是一种有标识符——变量映射的数据结构，标识符是指变量或者函数名，变量是对实际对象或原始数据的引用，词法环境的内部有两个组件：环境记录器，存储变量和函数声明的实际位置。外部环境调用：指向作用域链的下一个对象，可以访问其父级词法环境
* 创建变量环境组件

## this/call/apply/bind

### this对象的理解



## 异步编程



## 面向对象



## 垃圾回收和内存泄漏