---
tags: []
parent: ""
collections:
    - 图像去雾
version: 4759
libraryID: 1
itemKey: RYZ5DF37

---
# 图像去雾文献综述

## 介绍

雾霾是一种常见的图像降质因素，是导致图像模糊的最主要原因之一，受雾霾天气影响，专业的监控和遥感成像系统所拍摄的图像也无法满足相应的工作需求。数字图像质量的恶化会影响各类视觉任务的执行与处理。因此需要对图像进行预处理，以降低雾霾对其成像质量的影响。此外， 雾霾天气下获取的图像，直接影响计算机视觉中的语义分割、目标检测等任务的效果。综上所述，对包含雾或霾影响的图像进行相应的处理十分必要。

目前图像去雾领域中更多的是针对单幅图像去雾的研究，研究方法主要分为三种。基于图像增强的去雾算法、基于物理模型的去雾算法、基于深度学习的去雾算法。

## 基于图像增强的去雾算法

基于图像增强的去雾算法主要是通过增强对比度改善图像的视觉效果，但是对于图像突出部分的信息可能会造成一定损失。图像增强分为全局化增强和局部化增强两大类。在全局化增强的方法中，有基于直方图均衡化、基于同态滤波以及基于 Retinex 理论等算法。在局部增强的方法中，主要有对比增强和局部直方图均衡化等算法。

直方图均衡化即对图像的直方图进行均衡化处理，使原图的灰度级分布更加均匀，同时提升图像的对比度和亮度，使图像的感官效果更佳。 同态滤波旨在消除不均匀照度的影响而又 不损失图像细节，在频域中将图像动态范围进行压缩，可以同时增加对比度和亮度，借此达到图像增强的目的。 Retinex 理论以色感一致性（颜色恒常性）为基础，通过增强对比度改善图像视觉效果。不同于传统方法，Retinex 可以兼顾动态范围压缩、 边缘增强和颜色恒常三个方面，因此可以对各种不同类型的图像进行自适应的增强。随着研究的深入，单尺度 Retinex 算法改进成多尺度加权平均的 Retinex 算法，再发展成为带色彩恢复多尺度 Retinex 算法。以上三种算法可以达到一定的除雾效果，但是处理后图像的细节特征仍然不够突出，其根本原因在于图像的最大动态范围未能被充分利用， 对比度没有得到进一步的增强。但这些方法仍然可以作为图像预处理的手段，对图像进行初步的处理。

## 基于物理模型的去雾算法

早期人们根据经验总结提出了大气光散射模型（Atmospheric Scattering Model，ASM），该模型能够估计图像中雾霾的生成状况。大气光散射现象如图所示。

![\<img alt="" data-attachment-key="HE7L9EGR" width="1545" height="801" src="attachments/HE7L9EGR.png" ztype="zimage">](attachments/HE7L9EGR.png)光线经过一个散射媒介之后，其原方向的光线强度会受到衰减，并且其能量会散发到其他方向。因此，在一个有雾的环境中，相机或者人眼接收到的某个物体（或场景）的光来源于两个部分：

1.  来自于该物体（或场景）本身，这个部分的光强受到散射媒介的影响会有衰弱；
2.  来自大气中其他光源散射至相机或人眼的光强

大气光散射模型可以归纳为以下数学公式：

![\<img alt="" data-attachment-key="YBFY2ZXP" width="882" height="108" src="attachments/YBFY2ZXP.png" ztype="zimage">](attachments/YBFY2ZXP.png)

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F10046823%2Fitems%2F9SIX2C8F%22%2C%22pageLabel%22%3A%222%22%2C%22position%22%3A%7B%22pageIndex%22%3A1%2C%22rects%22%3A%5B%5B316.163%2C121.908%2C549.817%2C140.986%5D%2C%5B316.163%2C107.004%2C549.817%2C126.082%5D%2C%5B316.163%2C91.798%2C368.045%2C110.876%5D%2C%5B362.881%2C94.355%2C553.292%2C106.452%5D%2C%5B316.163%2C79.442%2C549.817%2C90.95%5D%2C%5B316.163%2C64.528%2C549.817%2C76.036%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F10046823%2Fitems%2FSW4N67ZU%22%5D%2C%22locator%22%3A%222%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/9SIX2C8F?page=2">“其中，I ( x) 是有雾图像，J ( x) 是物体（或场景）的原始辐射 ，A 是全局大气光值，t ( x) 被称作介质透射率且 t ( x ) = e<sup>-βd (x)</sup>，β 为全散射系数，d 为场景深度。同时求解 J (x)，t(x) 和 A 是一个欠适定的问题，往往需要利用各种先验知识来先估计透射图 t (x)，并以此求出其他未知量”</a></span>

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F10046823%2Fitems%2FJBUG7CXA%22%2C%22pageLabel%22%3A%222%22%2C%22position%22%3A%7B%22pageIndex%22%3A1%2C%22rects%22%3A%5B%5B86.302%2C127.419%2C283.198%2C139.237%5D%2C%5B65.302%2C111.669%2C283.197%2C123.511%5D%2C%5B65.302%2C95.919%2C283.197%2C107.737%5D%2C%5B65.302%2C80.169%2C283.197%2C91.987%5D%2C%5B65.302%2C64.419%2C288.467%2C76.237%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F10046823%2Fitems%2FR7FBEADT%22%5D%2C%22locator%22%3A%222%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/JBUG7CXA?page=2">“基于物理模型的去雾算法常依赖于大气散射模型，通过得到其中的映射关系，根据有雾图像的形成过程来进行逆运算，恢复出清晰图像。此外，大气散射模型是后续众多去雾算法研究的基石，这些算法主要关注于模型中参数的求解，随后推算出无雾图像。”</a></span>

“之后人们对雾霾进行了大量的观测，提出了不少先验知识辅助图像去雾。其中，由何凯明在2010年提出的基于暗通道先验（Dark channel prior，DCP）的去雾算法广为人知。暗通道先验基于这样的前提：在没有雾霾的室外图像中，大多数局部区域包含的一些像素至少在一个颜色通道中具有非常低的强度，基于这个先验知识，可以直接评估出雾霾的厚度，并恢复出高质量的图像。但是该算法的理论前提存在一定的局限性，现实生活中并不是所有场景都能够满足这个条件。当算法在面对类似大面积雪地或天空的图像时，每个颜色通道的强度都相对较高，算法会认为此处雾霾厚度很高，从而过度对该区域进行处理造成失真的效果。 2015 年，Zhu 提出了基于颜色衰减先验的去雾算法。该算法建立在对大量有雾图像的统计分析之上。该算法认为，雾的浓度越高，景深越大，图像的亮度和饱和度相差就越大。利用这一先验并建立模型，我们就得到与有雾图像雾霾浓度及其对应的场景深度信息之间的关系，并利用场景深度信息恢复出无雾的清晰图像。但是在某些场景中，雾霾的浓度和场景深度没有太大的关联，属于非均匀雾霾。在这种情况下，该算法的去雾效果就不够理想。总之，雾霾现象较为复杂，在现实场景中往往表现出不同的特点，人们在某个场景下得出的结论可能不适合另一个场景。因此我们需要一种更加通用的方法。”

## 基于深度学习的去雾方法

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F10046823%2Fitems%2F9SIX2C8F%22%2C%22pageLabel%22%3A%222%22%2C%22position%22%3A%7B%22pageIndex%22%3A1%2C%22rects%22%3A%5B%5B82.462%2C641.942%2C296.302%2C653.197%5D%2C%5B62.462%2C627.489%2C296.117%2C638.743%5D%2C%5B62.462%2C613.035%2C296.117%2C624.29%5D%2C%5B62.462%2C598.582%2C296.117%2C609.836%5D%2C%5B62.462%2C584.128%2C296.116%2C595.383%5D%2C%5B62.462%2C569.675%2C296.116%2C580.929%5D%2C%5B62.462%2C555.221%2C296.116%2C566.476%5D%2C%5B62.462%2C540.768%2C296.117%2C552.295%5D%2C%5B62.462%2C526.315%2C296.117%2C537.569%5D%2C%5B62.462%2C511.861%2C296.115%2C523.116%5D%2C%5B62.462%2C497.369%2C184.752%2C508.623%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F10046823%2Fitems%2FSW4N67ZU%22%5D%2C%22locator%22%3A%222%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/9SIX2C8F?page=2">“2012 年以来，以卷积神经网络（Convolutional Neural Network，CNN）为代表的深度学习在机器视觉、自然语言处理和语音处理等领域取得了突破性的进展，并逐步被应用在图像去雾领域。大量的研究结果表明，与传统的图像去雾算法相比，基于深度学习的图像去雾算法以大数据为依托，充分利用深度学习强大的特征学习和上下文信息提取能力，从中自动学习蕴含的丰富知识，可以从大数据中自动学习到雾霾图像到清晰图像之间的复杂映射关系，获得了性能上的大幅提升 . 基于深度学习的图像去雾也因此成为图像去雾领域的主流研究方向，取得了重要的进展。”</a></span>

在深度学习去雾方法中，人们也对传统图像去雾算法有或多或少的借鉴。主要是基于物理模型和先验知识，同时利用深度学习的手段，有些会辅以图像增强的预处理操作。许多研究开始采用卷积神经网络来估计大气散射模型中的参数，但是先估计参数，再进行去雾容易产生累积误差。为了避免参数估计过程中的累积误差，人们就提出了端到端的网络，不再分”两步走“，由有雾图像直接估计生成无雾图像。但是，由于在训练过程中往往需要大量无雾图像和有雾图像的样本对进行监督训练，而在实际应用中成对样本往往难以获得，有雾图像往往通过物理模型，主要是大气散射模型对清晰无雾图像处理降质后得到，大气散射模型本身也并不能完美的描述所有雾霾的形成过程，因此这种人为处理得到的图像无法很好代替真实有雾图像，因此训练出来的模型泛化能力差，用于处理真实图像时，往往会失效。因此，这些方法最后在合成数据集上能取得优异的性能，但是在真实数据集上的表现却有待提高。

为此人们开始尝试从两个角度展开研究，一是避开数据本身的不足，引入一部分非成对样本进行半监督学习，或者直接使用非成对样本开展无监督、自监督学习的图像去雾研究，降低对成对样本的依赖。二是将知识蒸馏、元学习、域自适应等机器学习领域的最新研究成果应用于图像去雾中，提升网络的泛化能力，提高实际图像的去雾效果。

因此我们可以大致的将基于深度学习的去雾方法再次划分。可以分为四类。

DehazeNet、MSCNN等网络，是基于深度学习的图像去雾方法前驱，网络架构较浅，全局大气光仍然通过传统方法估计
