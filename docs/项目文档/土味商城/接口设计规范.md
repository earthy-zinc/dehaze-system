# 接口设计规范

## 菜单接口

## 获取菜单

GET /api/user/menu

```typescript
import { defineComponent } from 'vue';
import type { RouteMeta, NavigationGuard } from 'vue-router';

export type Component<T = any> =
  | ReturnType<typeof defineComponent>
  | (() => Promise<typeof import('*.vue')>)
  | (() => Promise<T>);

export interface AppRouteRecordRaw {
  path: string;
  name?: string | symbol;
  meta?: RouteMeta;
  redirect?: string;
  component: Component | string;
  children?: AppRouteRecordRaw[];
  alias?: string | string[];
  props?: Record<string, any>;
  beforeEnter?: NavigationGuard | NavigationGuard[];
  fullPath?: string;
}

import 'vue-router';
declare module 'vue-router' {
  interface RouteMeta {
    // Controls roles that have access to the page
    // 控制有权访问页面的角色
    roles?: string[];
    // Whether login is required to access the current page (every route must declare)
    // 是否需要登录才能访问当前页面（每条路由都必须声明）
    requiresAuth: boolean;
    icon?: string; // The icon show in the side menu 菜单图标
    locale?: string; // The locale name show in side menu and breadcrumb 本地语言
    hideInMenu?: boolean; // If true, it is not displayed in the side menu 是否在菜单中显示
    hideChildrenInMenu?: boolean; // if set true, the children are not displayed in the side menu 是否在菜单中显示其子路由
    activeMenu?: string; // if set name, the menu will be highlighted according to the name you set 菜单是否突出显示
    order?: number; // Sort routing menu items. If set key, the higher the value, the more forward it is 菜单排序
    noAffix?: boolean; // if set true, the tag will not affix in the tab-bar 不固定菜单项到标签栏上
    ignoreCache?: boolean; // if set true, the page will not be cached 不缓存菜单对应的页面
  }
}
```



## 用户接口

### 获取用户信息

GET /api/user/info

```ts
{
          name: '王立群',
          avatar: '//lf1-xgcdn-tos.pstatp.com/obj/vcloud/vadmin/start.8e0e4855ee346a46ccff8ff3e24db27b.png',
          email: 'wangliqun@email.com',
          job: 'frontend',
          jobName: '前端艺术家',
          organization: 'Frontend',
          organizationName: '前端',
          location: 'beijing',
          locationName: '北京',
          introduction: '人潇洒，性温存',
          personalWebsite: 'https://www.arco.design',
          phone: '150****0000',
          registrationDate: '2013-05-10 12:10:00',
          accountId: '15012312300',
          certification: 1,
          role: [],
}
```

