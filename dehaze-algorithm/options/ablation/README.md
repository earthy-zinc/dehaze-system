# 一、模块性能消融实验 Ablation A

## NH-HAZE 20

| 实验方法                  | 英文     | PSNR    | SSIM   | LPIPS  | NIQE   | brisque | NIMA   | 迭代轮数    |
| ------------------------- | -------- | ------- | ------ | ------ | ------ | ------- | ------ | ----------- |
| 0.采用了本文所有方法      |          | 22.2817 | 0.7992 | 0.1622 | 2.5872 | 16.3392 | 5.1745 | 139000      |
| 0.采用了本文所有方法      |          | 22.7651 | 0.8018 | 0.1608 | 2.5989 | 15.6981 | 5.1581 | 150000(600) |
| 1. 去除额外的增强模块     | Enhancer | 21.7294 | 0.7964 | 0.1762 | 2.5919 | 15.7604 | 5.1853 | 138000      |
| 2. 再去除双分支           | RCAN     | 18.6103 | 0.6109 | 0.3760 | 3.0453 | 20.4562 | 4.9884 | 21000       |
| 3. 再将NAT改回RSTB(RIDCP) | RSTB     | 20.5569 | 0.6978 | 0.2252 | 2.9066 | 4.8781  | 5.0342 | 62000       |
| 4. 再去除RSTB             | NoRSTB   | 19.4080 | 0.6210 | 0.3153 | 3.1312 | 20.2642 | 5.0893 | 27000       |
| 5. 再去除码本匹配         | Codebook |         |        |        |        |         |        |             |

经验证，额外的增强模块在NH-HAZE-20上有效果

## NH-HAZE 21

| 实验方法              | 英文     | PSNR    | SSIM   | LPIPS  | NIQE   | brisque | NIMA   | 迭代轮数 |
| --------------------- | -------- | ------- | ------ | ------ | ------ | ------- | ------ | -------- |
| 0.采用了本文所有方法  |          | 22.9812 | 0.8762 | 0.1885 | 3.0120 | 19.5036 | 4.9791 |          |
| 1. 去除额外的增强模块 | Enhancer | 25.2437 | 0.9051 | 3.1273 | 2.5919 | 18.4361 | 5.0128 |          |

在NH-HAZE-21上去除额外的增强模块效果反而更佳

# 二、特征提取模块消融实验 Ablation B

## NH-HAZE 20

| 实验方法     | 英文       | PSNR    | SSIM   | LPIPS  | NIQE   | brisque | NIMA   | 迭代轮数    |
| ------------ | ---------- | ------- | ------ | ------ | ------ | ------- | ------ | ----------- |
| PyramidDiNAT | NH-HAZE-20 | 22.2817 | 0.7992 | 0.1622 | 2.5872 | 16.3392 | 5.1745 | 139000      |
| PyramidDiNAT | NH-HAZE-20 | 22.7651 | 0.8018 | 0.1608 | 2.5989 | 15.6981 | 5.1581 | 150000(600) |
| CascadeDiNAT |            | 22.7820 | 0.8047 | 0.1532 | 2.5791 | 13.9063 | 5.1193 | 111000      |
| PyramidNAT   |            |         |        |        |        |         |        |             |
| CascadeNAT   |            | 23.0694 | 0.8051 | 0.1498 | 2.6097 | 14.7370 | 5.1951 | 150000      |
| RSTB         |            |         |        |        |        |         |        |             |
| None         |            |         |        |        |        |         |        |             |

# 三、实验结果

| 数据集           | PSNR    | SSIM   | LPIPS  | NIQE   | brisque | NIMA   | 迭代轮数    |      |
| ---------------- | ------- | ------ | ------ | ------ | ------- | ------ | ----------- | ---- |
| NH-HAZE-20       | 22.7651 | 0.8018 | 0.1608 | 2.5989 | 15.6981 | 5.1581 | 150000(600) |      |
| NH-HAZE-21       | 22.9812 | 0.8762 | 0.1885 | 3.0120 | 19.5036 | 4.9791 |             |      |
| NH-HAZE-23       |         |        |        |        |         |        |             |      |
| NH-HAZE-20-21-23 |         |        |        |        |         |        |             |      |
| DENSE-HAZE       |         |        |        |        |         |        |             |      |
| I-HAZE           |         |        |        |        |         |        |             |      |
| O-HAZE           |         |        |        |        |         |        |             |      |

# 四、对比实验

| 方法                | O-HAZE |       | DENSE-HAZE |       | NH-HAZE20 |       | NH-HAZE21 |       | NH-HAZE23 |       | NH-HAZE20-21-23 |       |
| ------------------- | ------ | ----- | ---------- | ----- | --------- | ----- | --------- | ----- | --------- | ----- | --------------- | ----- |
|                     | PRNR   | SSIM  | PRNR       | SSIM  | PRNR      | SSIM  | PRNR      | SSIM  | PRNR      | SSIM  | PRNR            | SSIM  |
| DCP (TPAMI10)       | 12.92  | 0.505 | 10.85      | 0.404 | 12.29     | 0.411 | 11.30     | 0.605 | 11.87     | 0.470 | 10.47           | 0.488 |
| AOD (ICCV17)        | 17.69  | 0.616 | 13.30      | 0.469 | 13.44     | 0.413 | 13.22     | 0.613 | 12.47     | 0.369 | 11.30           | 0.510 |
| GCANet (WACV19)     | 19.50  | 0.660 | 12.42      | 0.478 | 17.58     | 0.594 | 18.76     | 0.768 | 16.36     | 0.512 | -               | -     |
| FFA (AAAI20)        | 22.12  | 0.768 | 16.26      | 0.545 | 18.51     | 0.637 | 20.40     | 0.806 | 18.09     | 0.585 | 18.20           | 0.684 |
| TNN (CVPRW21)       | -      | -     | -          | -     | 17.18     | 0.611 | 20.13     | 0.802 | 18.19     | 0.643 | 18.50           | 0.685 |
| DeHamer (CVPR22)    | 17.02  | 0.430 | 16.62      | 0.560 | 18.53     | 0.620 | 18.17     | 0.768 | 17.61     | 0.605 | 18.10           | 0.669 |
| FogRemoval (ACCV22) | 24.61  | 0.750 | 16.67      | 0.500 | -         | -     | -         | -     | -         | -     | 20.99           | 0.610 |
| ITBdehaze (CVPRW23) | 25.98  | 0.789 | 16.31      | 0.561 | 21.44     | 0.710 | 21.67     | 0.838 | 20.53     | 0.636 | -               | -     |
| SCANet (CVPRW23)    | -      | -     | -          | -     | 19.52     | 0.649 | 21.14     | 0.769 | 20.44     | 0.662 | 20.37           | 0.693 |
| Ours                | 24.55  | 0.790 | 17.15      | 0.521 | 22.77     | 0.802 | 22.98     | 0.876 | 22.12     | 0.799 | 21.13           | 0.806 |
