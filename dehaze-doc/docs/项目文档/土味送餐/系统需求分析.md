---
order: 2
---
# 需求分析

## 系统用例分析


| **参与者** | **主要工作**                                                    | **使用系统** | **系统用例** |
| ---------- | --------------------------------------------------------------- | ------------ | ------------ |
| 游客       | 登录到本系统                                                    | 是           | 登录         |
| 用户/商家  | 退出本系统                                                      | 是           | 退出         |
| 用户       | 查看/修改本人收货地址                                           | 是           | 管理收货地址 |
|            | 选择菜品和套餐，并将其添加到购物车                              | 是           | 管理购物车   |
|            | 选好餐食后，下订单                                              | 是           | 创建订单     |
|            | 查看本人在本系统中所下过的所有订单                              | 是           | 查看订单     |
|            | 创建订单后，对当前订单进行付款                                  | 否           | ——         |
| 商家       | 管理菜品/套餐的分类信息，进行增删改查                           | 是           | 管理分类     |
|            | 建立菜品分类后，往对应的分类中添加菜品，删除菜品，起售/停售菜品 | 是           | 管理菜品     |
|            | 将一个或多个菜品组合成套餐，管理套餐信息，进行增删改查          | 是           | 管理套餐     |
|            | 用户下订单以后，查询所有用户订单的信息                          | 是           | 查看订单     |
|            | 根据订单明细给对应客户送餐                                      | 否           | ——         |

根据以上的分析过程，结合抽象、演绎、推理等方法，得到如下系统用例。

系统用例可以看成是系统要实现的功能。

![image.png](assets/image.png)

### “登录”用例分析


| **用例名**   | 登录                                             |
| ------------ | ------------------------------------------------ |
| **简要描述** | 需要在本系统点餐的用户需要登录才能够进行更多操作 |
| **参与者**   | 游客                                             |
| **相关用例** | 无                                               |
| **前置条件** | 无                                               |
| **后置条件** | 如果登录成功，则系统返回用户信息                 |


| **基本事件流**                                          |
| ------------------------------------------------------- |
| （1）游客主动进入登录界面（A-1,A-2）                    |
| （2）游客输入账号名和密码（D-1,D-2,D-3）                |
| （3）游客点击登录（A-3,A-4），跳转至点餐界面，用例结束  |
| **备选事件流**                                          |
| A-* 游客在点击登录前，随时都可以中止该用例              |
| （1）游客在浏览器界面后退，或者关闭该页面，当前用例结束 |
| A-1 游客点击用户头像                                    |
| （1）系统检测到当前用户未登录，提示是否登录             |
| （2）游客选择“是”进入登录界面，“否”取消登录         |
| A-2 游客将菜品、套餐添加至购物车                        |
| （1）系统检测到当前用户未登录，提示是否登录             |
| （2）游客选择“是”进入登录界面，“否”取消登录         |
| A-3 密码错误                                            |
| （1）系统查询到用户输入的密码不正确                     |
| （2）游客重新输入用户名和密码，或者取消登录             |
| A-4 系统内部错误                                        |
| （1）系统显示的登陆失败报错信息，并提醒游客再试一次     |
| （2）游客再次点击登录，或者取消登录                     |
| **补充约束-数据需求**                                   |
| D-1 用户名密码不能为空                                  |
| D-2 用户名和密码限制在1-20个字符，不能包含空格          |
| **补充约束-业务规则**                                   |
| 无                                                      |
| **待解决问题**                                          |
| 无                                                      |

### “退出”用例分析


| **用例名**   | 登录                             |
| ------------ | -------------------------------- |
| **简要描述** | 用户想要移除本次登录状态         |
| **参与者**   | 用户、商家                       |
| **相关用例** | 无                               |
| **前置条件** | 用户已经成功登录                 |
| **后置条件** | 如果成功退出，则系统清除用户信息 |


| **基本事件流**                    |
| --------------------------------- |
| （1）用户点击退出登录按钮         |
| （2）系统清除当前用户登录状态信息 |
| （3）用例结束                     |
| **备选事件流**                    |
| 无                                |
| **补充约束-数据需求**             |
| 无                                |
| **补充约束-业务规则**             |
| 无                                |
| **待解决问题**                    |
| 无                                |

### “管理分类”用例分析


| **用例名**   | 管理分类                                   |
| ------------ | ------------------------------------------ |
| **简要描述** | 商家通过该用例对菜品和套餐分类信息进行维护 |
| **参与者**   | 商家                                       |
| **相关用例** | 无                                         |
| **前置条件** | 商家登录到该系统                           |
| **后置条件** | 菜品或套餐分类被正确的添加进系统           |


| **基本事件流**                                                                                |
| --------------------------------------------------------------------------------------------- |
| （1）用例起始于商家需要对菜品或套餐分类信息进行维护                                           |
| （2）商家查询当前所有菜品/套餐分类                                                            |
| （3）系统显示详细信息（D-1）                                                                  |
| （4）商家选择需要进行的操作，或者直接跳转到（6）                                              |
| （5）系统根据商家的选择，执行以下子流程                                                       |
| 选择“增加菜品/套餐分类”操作，开始（S-1）子流程                                              |
| 选择“修改菜品/套餐分类”操作，开始（S-2）子流程                                              |
| 选择“删除菜品/套餐分类”操作，开始（S-3）子流程                                              |
| （6）子流程完成后，商家可以重复（4）-（5）操作，或者直接结束用例                              |
| **子流程S-1：增加菜品/套餐分类**                                                              |
| （1）前台服务员录入分类信息（D-1）                                                            |
| （2）商家提交本次录入信息（A-1）                                                              |
| （3）系统保存分类信息，提示商家是否继续录入，如是则重复步骤（1）到步骤（3），否则结束该子流程 |
| **子流程S-2：修改菜品/套餐分类**                                                              |
| （1）商家选择要修改的分类                                                                     |
| （2）系统显示该菜品分类的详细信息（D-1）                                                      |
| （3）商家修改相关信息（D-2）                                                                  |
| （4）商家提交本次修改（A-2）                                                                  |
| （5）系统保存菜品分类信息，结束该子流程                                                       |
| **子流程S-3：删除菜品/套餐分类**                                                              |
| （1）商家选择一个或多个需要删除的分类                                                         |
| （2）系统提示商家是否删除                                                                     |
| （3）商家确认删除                                                                             |
| （4）系统保存本次删除信息（A-3）                                                              |
| **备选事件流**                                                                                |
| A-* 商家可以只查看分类信息而不进行子流程的操作                                                |
| A-1 商家提交新增的分类信息                                                                    |
| （1）系统检测到当前分类信息已存在，拒绝保存本次提交                                           |
| A-2 商家提交修改当前分类信息                                                                  |
| （1）暂无                                                                                     |
| A-3 系统保存本次删除信息                                                                      |
| （1）系统检测到有菜品或套餐关联到当前分类                                                     |
| （2）系统提示商家是否删除关联的所有信息，如是则调用管理菜品、管理套餐用例                     |
| （3）商家拒绝删除关联的信息，无法保存本次删除信息，用例结束                                   |
| **补充约束-数据需求**                                                                         |
| D-1 显示的菜品或套餐分类信息包含分类名称、分类类型、操作时间、排序字段                        |
| D-2 商家可以更改信息包括分类名称、排序字段                                                    |
| **补充约束-业务规则**                                                                         |
| 分类类型是指的是该分类是菜品分类还是套餐分类，为单选选项                                      |
| **待解决问题**                                                                                |
| 无                                                                                            |

### “管理菜品”用例分析


| **用例名**   | 管理菜品                                                     |
| ------------ | ------------------------------------------------------------ |
| **简要描述** | 商家通过该用例对菜品信息进行维护、用户通过该用例查询所有菜品 |
| **参与者**   | 商家、用户                                                   |
| **相关用例** | 无                                                           |
| **前置条件** | 商家登录到该系统                                             |
| **后置条件** | 菜品被正确的添加进系统                                       |


| **基本事件流**                                                                                                                                |
| --------------------------------------------------------------------------------------------------------------------------------------------- |
| （1）用例起始于商家需要对菜品信息进行维护                                                                                                     |
| （2）商家输入查询条件（D-1），查询当前符合条件的菜品                                                                                          |
| （3）系统查询该申请（A-1），并显示详细信息（D-2）                                                                                             |
| （4）商家选择需要进行的操作，或者直接跳转到（6）                                                                                              |
| （5）系统根据商家的选择，执行以下子流程                                                                                                       |
| 选择“增加菜品”操作，开始（S-1）子流程                                                                                                       |
| 选择“修改菜品”操作，开始（S-2）子流程                                                                                                       |
| 选择“删除菜品”操作，开始（S-3）子流程                                                                                                       |
| 选择“停售/起售菜品”操作，开始（S-4）子流程                                                                                                  |
| （6）子流程完成后，商家可以重复（4）-（5）操作，或者直接结束用例                                                                              |
| **子流程S-1：增加菜品**                                                                                                                       |
| （1）商家录入菜品分类信息（D-3、D-4）                                                                                                         |
| （2）商家点击添加口味录入口味信息（D-4）                                                                                                      |
| （3）商家提交本次录入信息（A-2）                                                                                                              |
| （4）系统保存菜品分类信息，提示商家是否继续录入，如是则重复步骤1到步骤3，否则结束该子流程                                                     |
| **子流程S-2：修改菜品**                                                                                                                       |
| （1）商家选择要修改的菜品分类                                                                                                                 |
| （2）系统显示该菜品分类的详细信息（D-3、D-4）                                                                                                 |
| （3）商家修改相关信息                                                                                                                         |
| （4）商家提交本次修改（A-2）                                                                                                                  |
| （5）系统保存菜品分类信息，结束该子流程                                                                                                       |
| **子流程S-3：删除菜品**                                                                                                                       |
| （1）商家选择一个或多个需要删除的菜品分类                                                                                                     |
| （2）系统提示商家是否删除                                                                                                                     |
| （3）商家确认删除                                                                                                                             |
| （4）系统保存本次删除信息（A-3）                                                                                                              |
| **子流程S-4：停售/起售菜品**                                                                                                                  |
| （1）商家选择一个或多个需要停售/起售的菜品分类（A-4）                                                                                         |
| （2）系统保存本次停售信息                                                                                                                     |
| **备选事件流**                                                                                                                                |
| A-* 商家在提交操作之前，随时都可以中止该用例                                                                                                  |
| A-1 没有找到对应的菜品                                                                                                                        |
| （1）系统提示未找到对应的菜品                                                                                                                 |
| （2）商家可以再次输入查询条件进行查询，也可以终止用例                                                                                         |
| A-2 必填项有未输入项目                                                                                                                        |
| （1）系统提示商家进行补充输入                                                                                                                 |
| （2）商家再次输入未输入项目                                                                                                                   |
| A-3 删除的菜品关联有套餐                                                                                                                      |
| （1）系统检测到有套餐关联到当前菜品                                                                                                           |
| （2）无法保存本次删除信息，用例结束                                                                                                           |
| A-4 选择多个需要停售/起售的菜品时，所选菜品售卖状态不完全相同                                                                                 |
| （1）系统提示“所选菜品包含停售/起售两个状态，无法批量停售/起售”                                                                             |
| （2）系统取消操作，子流程结束                                                                                                                 |
| A-5 用户查询当前分类下所有菜品                                                                                                                |
| （1）用例起始于用户希望查询当前分类所有菜品                                                                                                   |
| （2）用户输入分类id查询对应分类的所有菜品（该操作由浏览器代理完成）                                                                           |
| （3）系统展示当前菜品信息（D-5）                                                                                                              |
| **补充约束-数据需求**                                                                                                                         |
| D-1 查询条件可以为菜品名称、菜品分类                                                                                                          |
| D-2 显示的菜品信息包括菜品名称、图片、菜品分类、售价、售卖状态、最后操作时间                                                                  |
| D-3 添加和修改菜品操作必填项为菜品名称，菜品分类、菜品价格和菜品图片。                                                                        |
| D-4 添加和修改菜品操作可选项为口味做法配置，菜品描述。                                                                                        |
| D-5 显示的菜品信息包括菜品名称、图片、售价。只显示售卖状态为"启用"的菜品                                                                      |
| **补充约束-业务规则**                                                                                                                         |
| B-1 菜品名称小于20字符，菜品分类必须是已在分类管理中添加过的分类，菜品价格为数字，小数位数为2位。菜品图片为常见的图片格式。                   |
| B-2 口味做法配置分为口味名（3个字以内）、口味标签（可以存在一个或多个口味标签，4个字以内）。每到菜品可以添加零个或多个口味。菜品描述最多200字 |
| **待解决问题**                                                                                                                                |
| 无                                                                                                                                            |

### “管理套餐”用例分析


| **用例名**   | 管理套餐                         |
| ------------ | -------------------------------- |
| **简要描述** | 商家通过该用例对套餐信息进行维护 |
| **参与者**   | 商家                             |
| **相关用例** | 无                               |
| **前置条件** | 商家登录到该系统                 |
| **后置条件** | 套餐被正确的添加进系统           |


| **基本事件流**                                                                                                                                                                                                                    |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| （1）用例起始于商家需要对套餐信息进行维护                                                                                                                                                                                         |
| （2）商家输入查询条件（D-1），查询当前符合条件的套餐                                                                                                                                                                              |
| （3）系统查询该申请（A-1），并显示详细信息（D-2）                                                                                                                                                                                 |
| （4）商家选择需要进行的操作，或者直接跳转到（6）                                                                                                                                                                                  |
| （5）系统根据商家的选择，执行以下子流程                                                                                                                                                                                           |
| 选择“增加套餐”操作，开始（S-1）子流程                                                                                                                                                                                           |
| 选择“修改套餐”操作，开始（S-2）子流程                                                                                                                                                                                           |
| 选择“删除套餐”操作，开始（S-3）子流程                                                                                                                                                                                           |
| 选择“停售/起售套餐”操作，开始（S-4）子流程                                                                                                                                                                                      |
| （6）子流程完成后，商家可以重复（4）-（5）操作，或者直接结束用例                                                                                                                                                                  |
| **子流程S-1：增加套餐**                                                                                                                                                                                                           |
| （1）商家录入套餐信息（D-3、D-4）                                                                                                                                                                                                 |
| （2）商家点击向套餐中添加菜品（D-4）                                                                                                                                                                                              |
| （3）商家提交本次录入信息（A-2）                                                                                                                                                                                                  |
| （4）系统保存套餐分类信息，提示商家是否继续录入，如是则重复步骤1到步骤3，否则结束该子流程                                                                                                                                         |
| **子流程S-2：修改套餐**                                                                                                                                                                                                           |
| （1）商家选择要修改的套餐分类                                                                                                                                                                                                     |
| （2）系统显示该套餐分类的详细信息（D-3、D-4）                                                                                                                                                                                     |
| （3）商家修改相关信息                                                                                                                                                                                                             |
| （4）商家提交本次修改（A-2）                                                                                                                                                                                                      |
| （5）系统保存套餐信息，结束该子流程                                                                                                                                                                                               |
| **子流程S-3：删除套餐**                                                                                                                                                                                                           |
| （1）商家选择一个或多个需要删除的套餐分类                                                                                                                                                                                         |
| （2）系统提示商家是否删除                                                                                                                                                                                                         |
| （3）商家确认删除                                                                                                                                                                                                                 |
| （4）系统保存本次删除信息（A-3）                                                                                                                                                                                                  |
| **子流程S-4：停售/起售套餐**                                                                                                                                                                                                      |
| （1）商家选择一个或多个需要停售/起售的套餐分类（A-4）                                                                                                                                                                             |
| （2）系统保存本次停售信息                                                                                                                                                                                                         |
| **备选事件流**                                                                                                                                                                                                                    |
| A-* 商家在提交操作之前，随时都可以中止该用例                                                                                                                                                                                      |
| A-1 没有找到对应的套餐                                                                                                                                                                                                            |
| （1）系统提示未找到对应的套餐                                                                                                                                                                                                     |
| （2）商家可以再次输入查询条件进行查询，也可以终止用例                                                                                                                                                                             |
| A-2 必填项有未输入项目                                                                                                                                                                                                            |
| （1）系统提示商家进行补充输入                                                                                                                                                                                                     |
| （2）商家再次输入未输入项目                                                                                                                                                                                                       |
| A-4 选择多个需要停售/起售的套餐时，所选套餐售卖状态不完全相同                                                                                                                                                                     |
| （1）系统提示“所选套餐包含停售/起售两个状态，无法批量停售/起售”                                                                                                                                                                 |
| （2）系统取消操作，子流程结束                                                                                                                                                                                                     |
| **补充约束-数据需求**                                                                                                                                                                                                             |
| D-1 查询条件可以为套餐名称、套餐分类                                                                                                                                                                                              |
| D-2 显示的套餐信息包括套餐名称、图片、套餐分类、售价、售卖状态、最后操作时间                                                                                                                                                      |
| D-3 添加和修改套餐操作必填项为套餐名称，套餐分类、套餐价格和套餐图片、套餐菜品。                                                                                                                                                  |
| D-4 添加和修改套餐操作可选项为套餐描述。套餐描述最多200字                                                                                                                                                                         |
| **补充约束-业务规则**                                                                                                                                                                                                             |
| B-1 套餐名称小于20字符，套餐分类必须是已在分类管理中添加过的分类，套餐价格为数字，小数位数为2位。套餐图片为常见的图片格式。套餐菜品为已在管理菜品用例中添加过的菜品，可以选择一个或多个菜品加入套餐，每个菜品可以选择一份或多份。 |
| **待解决问题**                                                                                                                                                                                                                    |
| 无                                                                                                                                                                                                                                |

### “管理购物车”用例分析


| **用例名**   | 管理购物车                                               |
| ------------ | -------------------------------------------------------- |
| **简要描述** | 用户通过该用例增减购物车中的菜品或套餐（以下统称为商品） |
| **参与者**   | 用户                                                     |
| **相关用例** | 无                                                       |
| **前置条件** | 用户登录到该系统                                         |
| **后置条件** | 商品被正确的添加进购物车                                 |


| **基本事件流**                                                                        |
| ------------------------------------------------------------------------------------- |
| （1）用例起始于用户想要添加或删除购物车中的商品                                       |
| （2）系统根据用户的选择，执行以下子流程                                               |
| 选择一种菜品，开始（S-1）“添加菜品到购物车”子流程。                                 |
| 选择一种套餐，开始（S-2）“添加套餐到购物车”子流程。                                 |
| 选择购物车中一种商品，点击删除，开始（S-3）“删除购物车商品”子流程。                 |
| 选择购物车中一种商品，点击减号，开始（S-4）“减少购物车商品”子流程。                 |
| 选择购物车并点击清空购物车，开始（S-5）“清空购物车”子流程。                         |
| （3）子流程完成后，用户可以重复（2）操作，或者直接结束用例                            |
| **子流程S-1：添加菜品到购物车**                                                       |
| （1）用户通过管理菜品用例查询商品信息，点击“+”选择一样菜品，进入菜品详情界面（D-1） |
| （2）用户选择菜品数量、口味，点击添加进购物车（A-2、D-2）                             |
| （3）系统保存当前所选择的菜品信息到当前用户购物车中，结束该子流程                     |
| **子流程S-2：添加套餐到购物车**                                                       |
| （1）用户通过管理套餐用例查询商品信息，点击“+”选择一样套餐，进入套餐详情界面（D-1） |
| （2）用户选择套餐数量，点击添加进购物车（D-2）                                        |
| （3）系统保存当前所选择的套餐信息到当前用户购物车中，结束该子流程                     |
| **子流程S-3：删除购物车商品**                                                         |
| （1）用户选择要删除的购物车商品                                                       |
| （2）系统保存本次删除信息，将结果返回。结束该子流程                                   |
| **子流程S-4：减少购物车商品**                                                         |
| （1）用户在购物车界面的某个商品框中点击了“－”减号按钮（A-1）                        |
| （2）系统将购物车中当前商品数量减少一份                                               |
| （3）系统保存本次信息，将结果返回，结束子流程                                         |
| **子流程S-5：清空购物车**                                                             |
| （1）用户在购物车界面点击了清空购物车按钮                                             |
| （2）系统提示用户是否清空购物车                                                       |
| （3）用户确认删除                                                                     |
| （4）系统删除当前用户购物车中的所有信息                                               |
| **备选事件流**                                                                        |
| A-* 用户在进行子流程之前，随时都可以中止该用例                                        |
| （1）用户在浏览器界面后退，或者关闭该页面，当前用例结束                               |
| A-1 当前购物车中商品数量不足                                                          |
| （1）系统检测到当前购物车中商品数量小于2，无法减少                                    |
| （2）系统跳转到”（S-3）删除购物车商品“子流程，当前子流程结束                        |
| A-2 未选择菜品数量和口味信息                                                          |
| （1）系统提示用户选择数量和口味                                                       |
| （2）用户重新选择                                                                     |
| **补充约束-数据需求**                                                                 |
| D-1 菜品和套餐详细信息包括：名称，分类，价格，图片，描述                              |
| D-2 购物车信息包括：菜品或套餐名称，口味（若为菜品），数量，金额，图片，创建时间      |
| **补充约束-业务规则**                                                                 |
| 无                                                                                    |
| **待解决问题**                                                                        |
| 无                                                                                    |

### “管理收货地址”用例分析


| **用例名**   | 管理收货地址                   |
| ------------ | ------------------------------ |
| **简要描述** | 用户通过该用例管理收货地址信息 |
| **参与者**   | 用户                           |
| **相关用例** | 无                             |
| **前置条件** | 用户登录到该系统               |
| **后置条件** | 更新收货地址信息到系统         |


| **基本事件流**                                                                                |
| --------------------------------------------------------------------------------------------- |
| （1）用例起始于用户想要添加，修改或删除收货地址信息                                           |
| （2）系统根据用户的选择，执行以下子流程                                                       |
| 点击收货地址，进入地址管理页面，开始（S-1）“增加地址”子流程。                               |
| 选择某一个收货地址，选择修改地址，开始（S-2）“修改地址”子流程。                             |
| 选择某一个收货地址，选择删除地址，开始（S-3）“删除地址”子流程。                             |
| 选择某一个收货地址，选择设为默认地址，开始（S-4）“设置默认地址”子流程。                     |
| （3）子流程完成后，用户可以重复（2）操作，或者直接结束用例                                    |
| **子流程S-1：增加地址**                                                                       |
| （1）用户输入地址详细信息（D-1）                                                              |
| （2）用户提交本次增加地址（A-1）                                                              |
| （3）系统保存地址信息，结束该子流程                                                           |
| **子流程S-2：修改地址**                                                                       |
| （1）用户选择要修改的地址                                                                     |
| （2）系统显示该地址的详细信息（D-1）                                                          |
| （3）用户修改相关信息                                                                         |
| （4）用户提交本次修改（A-1）                                                                  |
| （5）系统保存地址信息，结束该子流程                                                           |
| **子流程S-3：删除地址**                                                                       |
| （1）用户选择一个或多个需要删除的地址                                                         |
| （2）系统显示该地址详细信息（D-2），系统提示用户是否删除                                      |
| （3）用户确认删除                                                                             |
| （4）系统保存本次删除信息（A-3），结束该子流程                                                |
| **子流程S-4：设置默认地址**                                                                   |
| （1）用户选择一个地址设为默认地址                                                             |
| （2）系统修改当前地址信息中的是否为默认地址字段为“是”，将当前用户的其他地址该字段设为“否” |
| （3）系统结束子流程，提示用户修改成功                                                         |
| **备选事件流**                                                                                |
| A-* 游客在点击登录前，随时都可以中止该用例                                                    |
| （1）游客在浏览器界面后退，或者关闭该页面，当前用例结束                                       |
| A-1 地址信息中任意一项字段为空                                                                |
| （1）系统检测地址信息内容不符合规范，提示用户重新输入                                         |
| （2）用户填写之前未填写字段，继续子流程。否则结束子流程。                                     |
| A-2 用户提交修改信息                                                                          |
| （1）系统检测修改信息是否符合规范，是则进入下一步，否则显示不规范提示                         |
| （2）用户确认修改                                                                             |
| A-3 删除地址                                                                                  |
| （1）用户点击删除，系统提示用户确认删除，用户完成确认，系统删除该地址                         |
| **补充约束-数据需求**                                                                         |
| D-1 地址信息包括：收货人、电话、收货地址（省、市、区、详细地址）、是否是默认地址              |
| D-2 用户地址信息需存在                                                                        |
| **补充约束-业务规则**                                                                         |
| 无                                                                                            |
| **待解决问题**                                                                                |
| 无                                                                                            |

### “创建订单”用例分析


| **用例名**   | 创建订单                                                       |
| ------------ | -------------------------------------------------------------- |
| **简要描述** | 需要在本系统点餐的用户需要登录才能够进行更多操作               |
| **参与者**   | 用户                                                           |
| **相关用例** | 管理购物车、管理收货地址                                       |
| **前置条件** | 用户已登录，用户购物车中存在至少一件商品                       |
| **后置条件** | 如果创建订单成功，返回当前订单信息，添加订单记录，订单状态改变 |


| **基本事件流**                                                                                                                           |
| ---------------------------------------------------------------------------------------------------------------------------------------- |
| （1）用例起始于用户已经挑选好餐食，想要创建订单                                                                                          |
| （2）用户在购物车中选择一个或多个希望结算的菜品或套餐                                                                                    |
| （3）用户点击结算，系统获取购物车信息并进入确定订单页面，系统展示用户当前订单收货地址信息（D-1、A-1）、所选择的所有菜品和套餐信息（D-2） |
| （4）用户可选择使用新地址，点击地址栏，则执行“选择收货地址”（S-1）子流程                                                               |
| （5）用户可选择填写对当前订单的备注                                                                                                      |
| （5）顾客点击提交订单，系统为当前订单创建订单信息（D-3）                                                                                 |
| （6）系统根据当前订单信息的订单号（D-3），将订单中的菜品和套餐信息添加到订单详情中（D-4）                                                |
| （7）做完上述工作后，系统提示用户创建订单成功，用例结束。                                                                                |
| **备选事件流**                                                                                                                           |
| A-* 用户在提交订单之前，随时都可以中止该用例                                                                                             |
| （1）游客在浏览器界面后退，或者点击取消按钮，当前用例结束                                                                                |
| A-1 用户不存在收货地址                                                                                                                   |
| （1）系统检测到当前用户不存在收货地址，提示用户是否新建收货地址                                                                          |
| （2）用户选择"是"则进入管理收货地址用例——新增收货地址子流程，“否”则结束当前用例                                                      |
| **子流程S-1： 用户使用新地址**                                                                                                           |
| （1）用户点击“确定订单页面”中的“地址栏”，系统跳转到管理收货地址页面，触发管理收货地址用例                                            |
| （2）用户完成管理收货地址用例，返回当前用例继续执行流程                                                                                  |
| **补充约束-数据需求**                                                                                                                    |
| D-1 当前收货地址信息包括：收货人姓名、电话、收货地址（省、市、区、详细地址）、是否是默认地址                                             |
| D-2 当前所选择的菜品或套餐信息包括：商品名称、商品类型、数量、单价、总价                                                                 |
| D-3 订单信息包括：订单号、创建时间、支付时间、完成时间、订单备注、订单收货信息（D-1）、订单详细信息（D－2）。                            |
| D-4 订单详细信息：包含D-2的所有信息，并且针对当前订单的所有商品，有商品数量、商品总价两个字段。                                          |
| **补充约束-业务规则**                                                                                                                    |
| B-1 收货人姓名不超过8个字符，电话为11位数字，收货地址不超过255个字符，是否为默认地址只有是否两种选择。                                   |
| B-2 商品类型为套餐或是菜品，总价计算方法为数量*单价。当前订单中商品可能有一个或多个，因此菜品/套餐信息应为数组。                         |
| B-3  订单信息中支付时间和完成时间为空，其他字段必须                                                                                     |
| **待解决问题**                                                                                                                           |
| 无                                                                                                                                       |

### “查看订单”用例分析


| **用例名**   | 查看订单                                                                                                         |
| ------------ | ---------------------------------------------------------------------------------------------------------------- |
| **简要描述** | 用户使用该用例，目的是查看本人在本系统中所下过的所有订单。商家使用该用例，目的是查看所有用户在本系统中的所有订单 |
| **参与者**   | 用户、商家                                                                                                       |
| **相关用例** | 无                                                                                                               |
| **前置条件** | 用户、商家登录到该系统                                                                                           |
| **后置条件** | 无                                                                                                               |


| **基本事件流**                                                                                                                     |
| ---------------------------------------------------------------------------------------------------------------------------------- |
| （1）用例起始于商家想要查询所有订单信息（A-1）                                                                                     |
| （2）商家选择进入订单管理页面                                                                                                      |
| （3）系统分页显示所有的订单信息（A-2）（D-1）                                                                                      |
| **备选事件流**                                                                                                                     |
| A-*用户在点击确认支付之前可以结束该用例                                                                                            |
| （1）系统提醒用户当前的操作会被取消                                                                                                |
| （2）用户点击确认后，结束该用例。也可以点击取消，继续支付并完成订单A-1 用例起始于用户希望查询自己所有历史订单                      |
| （1）用户进入历史订单查询界面                                                                                                      |
| （2）系统展示当前用户所有历史订单（D-1）                                                                                           |
| （3）用例结束                                                                                                                      |
| **补充约束-数据需求**                                                                                                              |
| D-1 展示的订单信息为订单号、订单创建时间、订单支付时间、订单完成时间、订单备注、订单完成状态、菜品名称、菜品份数、菜品金额、总金额 |
| **补充约束-业务规则**                                                                                                              |
| B-1 订单完成状态有：未支付、已支付、已完成                                                                                         |
| **待解决问题**                                                                                                                     |
| 无                                                                                                                                 |

## 非功能性需求分析

### 性能需求分析

1. 商家端、用户端响应时间不超过1秒；
2. 可同时支持100人并发访问土味外送；

### 接口需求分析

项目采用RESTful 接口设计规范进行前后端接口交互。

对于资源的具体操作类型，由HTTP动词表示。常用的HTTP动词有下面五个（括号里是对应的SQL命令）。

1. GET（读取）：从服务器取出资源（一项或多项）。
2. POST（创建）：在服务器新建一个资源。
3. PUT（完整更新）：在服务器更新资源（客户端提供改变后的完整资源）。
4. DELETE（删除）：从服务器删除资源。

如果记录数量很多，服务器不可能都将它们返回给用户。API应该提供参数，过滤返回结果。下面是一些常见的参数。

l ?limit=10：指定返回记录的数量

l ?page=2&per\_page=100：指定第几页，以及每页的记录数。

l ?sortby=name&order=asc：指定返回结果按照哪个属性排序，以及排序顺序。

l ?animal\_type\_id=1：指定筛选条件

### 安全需求分析

1. 数据备份：允许用户对数据进行备份和恢复，以弥补数据的破坏和丢失。
2. 记录日志：本系统应该能够记录系统运行时所发生的所有错误，包括本机错误和网络错误。这些错误记录便于查找错误的原因。日志同时记录用户的关键性操作信息。

### 易用性需求分析

**一致 Consistency**

l 与现实生活一致： 与现实生活的流程、逻辑保持一致，遵循用户习惯的语言和概念；

l 在界面中一致： 所有的元素和结构需保持一致，比如：设计样式、图标和文本、元素的位置等。

**反馈 Feedback**

l 控制反馈： 通过界面样式和交互动效让用户可以清晰的感知自己的操作；

l 页面反馈： 操作后，通过页面元素的变化清晰地展现当前状态。

**效率 Efficiency**

l 简化流程： 设计简洁直观的操作流程；

l 清晰明确： 语言表达清晰且表意明确，让用户快速理解进而作出决策；

l 帮助用户识别： 界面简单直白，让用户快速识别而非回忆，减少用户记忆负担。

**可控 Controllability**

l 用户决策： 根据场景可给予用户操作建议或安全提示，但不能代替用户进行决策；

l 结果可控： 用户可以自由的进行操作，包括撤销、回退和终止当前操作等。

### 可维护性

（1）构建易于理解和更改的代码库。

（2）缩短停机时间或停机频率。

（3）软件应该容易进行测试，包括单元测试、集成测试和系统测试。良好的可测试性使得问题的定位和修复更加容易。

（4）代码和组件应该设计成可重用的形式，以便在不同的项目或模块中能够被有效地复用，减少重复开发和维护的工作量。

（5）良好的文档和注释能够帮助开发人员理解代码的功能和设计意图，减少维护时的困惑和错误。

### 可移植性

（1）应该能够轻松地在不同的环境或平台上进行部署和运行，而不需要过多的修改或适配工作。

（2）能够适应变化，包括需求变更、技术升级和新的业务场景等，而不需要过多的修改或重构。

（3）能够方便地进行功能扩展或修改，而不会引入太多的复杂性或影响现有的功能。

（4）不同的数据库能够进行转换。
